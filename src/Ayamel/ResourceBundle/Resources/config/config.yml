parameters:
    ayamel.resource.type_extension_map:
        video: [mp4,m4v,wmv,mov,avi,webm]
        audio: [mp3,wma,m4a,aac,wav]
        image: [jpg,jpeg,gif,png,tiff]
        document: [txt,rtf,doc,docx,xls,xlsx,ppt,pptx,odt,ods,pdf,csv,html,htm,pages,numbers,key]
        archive: [zip,tar,rar,iso,gz,tz]
        data: [xml,json,csv,yml]
    ayamel.resource.null_extension_type: data

    ayamel.resource.file_attribute_validation_map:
        Ayamel\ResourceBundle\Validation\File\VideoAttributes:
            - video/mp4
            - video/x-ms-wmv
            - video/avi
        Ayamel\ResourceBundle\Validation\File\AudioAttributes:
            - audio/mp3
            - audio/aac
        Ayamel\ResourceBundle\Validation\File\ImageAttributes: []
        Ayamel\ResourceBundle\Validation\File\DocumentAttributes: []
        Ayamel\ResourceBundle\Validation\File\DataAttributes: []

    ayamel.resource.relation_attribute_validation_map:
        depends_on: ~
        requires: ~
        derived_from: ~
        part_of: Ayamel\ResourceBundle\Validation\Relation\PartOfAttributes

services:
    ayamel.resource.relation_attributes_validator:
        class: Ayamel\ResourceBundle\Validation\RelationAttributesValidator
        arguments: [@validator, %ayamel.resource.relation_attribute_validation_map%]
        tags:
            - { name: validator.constraint_validator, alias: relation_attributes_validator }

    ayamel.resource.file_attributes_validator:
        class: Ayamel\ResourceBundle\Validation\FileAttributesValidator
        arguments: [@validator, %ayamel.resource.file_attribute_validation_map%]
        tags:
          - { name: validator.constraint_validator, alias: file_attributes_validator }

    ayamel.resource.provider:
        class: Ayamel\ResourceBundle\Provider\DelegatingProvider

    ayamel.resource.local_provider:
        class: Ayamel\ResourceBundle\Provider\LocalFilepathProvider
        arguments: [%ayamel.resource.type_extension_map%, %ayamel.resource.null_extension_type%]
        tags:
            - { name: ayamel.resource.provider_delegate }

    ayamel.resource.ftp_provider:
        class: Ayamel\ResourceBundle\Provider\FtpProvider
        arguments: [%ayamel.resource.type_extension_map%, %ayamel.resource.null_extension_type%]
        tags:
            - { name: ayamel.resource.provider_delegate }

    ayamel.resource.http_provider:
        class: Ayamel\ResourceBundle\Provider\HttpProvider
        arguments: [%ayamel.resource.type_extension_map%, %ayamel.resource.null_extension_type%]
        tags:
            - { name: ayamel.resource.provider_delegate }
